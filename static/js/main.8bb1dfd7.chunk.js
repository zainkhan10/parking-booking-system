(this["webpackJsonpparking-booking-system"]=this["webpackJsonpparking-booking-system"]||[]).push([[0],{178:function(e,a,t){e.exports=t.p+"static/media/car.04825c07.png"},179:function(e,a){e.exports="data:image/png;base64,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"},204:function(e,a,t){e.exports=t(387)},209:function(e,a,t){},211:function(e,a,t){},212:function(e,a,t){},352:function(e,a,t){},356:function(e,a,t){},385:function(e,a,t){},386:function(e,a,t){},387:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(38),l=t.n(c),o=(t(209),t(210),t(211),t(200)),A=t(41),i=t(39),s="/user",m="/admin",u="".concat(s,"/book-parking"),E="".concat(s,"/bookings"),f="".concat(s,"/feedback"),d="".concat(m,"/users"),g="".concat(m,"/feedbacks"),b="".concat(m,"/bookings"),h="".concat(m,"/book-parking"),p=t(35),y=t.n(p),C=t(150),k=t(15),v=t(389),I=t(390),O=t(168),B=t(393),N=t(395),j=t(60),Q=t(396),S=t(398),D=t(397),T=(t(212),t(43)),w=t(146),P=w.initializeApp({apiKey:"AIzaSyB-veozlXKd-a43RxLkU1aDpTWrNNq9vhM",authDomain:"parking-booking-system-732ef.firebaseapp.com",databaseURL:"https://parking-booking-system-732ef.firebaseio.com",projectId:"parking-booking-system-732ef",storageBucket:"parking-booking-system-732ef.appspot.com",messagingSenderId:"547720064600",appId:"1:547720064600:web:53ec3c0a5655888f0fe42d",measurementId:"G-JN87P7DTBZ"});w.analytics();var x=P,F=function(e){var a=e.history,t=Object(n.useState)(!1),c=Object(k.a)(t,2),l=c[0],o=c[1],i=Object(n.useState)(!1),s=Object(k.a)(i,2),m=s[0],E=s[1];Object(n.useEffect)((function(){var e=Object(T.a)("userInformation");y.a.isEmpty(e)||("normal"===e.userType?a.push("".concat(u)):"admin"===e.userType&&a.push("".concat(d)))}),[]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(v.a,{justify:"center",align:"middle",className:"auth-container"},r.a.createElement(I.a,{xs:22,sm:22,md:10,lg:9},r.a.createElement("h4",{className:"auth-page-heading"},"Parking Booking System"),r.a.createElement("div",{className:"auth-form-container"},r.a.createElement(O.a,{spinning:m},r.a.createElement("div",{className:"auth-form-heading"},r.a.createElement("h2",null,"Login to your account")),r.a.createElement(B.a,{name:"normal_login",className:"login-form",onFinish:function(e){E(!0);var t=e.email,n=e.password;x.auth().signInWithEmailAndPassword(t.toLowerCase(),n).then((function(e){x.database().ref("/users/".concat(e.user.uid)).once("value").then((function(t){E(!1),Object(T.c)("userInformation",Object(C.a)(Object(C.a)({},t.val().info),{},{uid:e.user.uid})),"admin"===t.val().info.userType?a.push("".concat(d)):"normal"===t.val().info.userType&&a.push("".concat(u))})).catch((function(e){E(!1),alert(e)}))})).catch((function(e){E(!1),o(e.message)}))},layout:"vertical"},r.a.createElement(B.a.Item,{name:"email",rules:[{type:"email",message:"Please input your valid email!"},{required:!0,message:"Please input your email!"}]},r.a.createElement(N.a,{prefix:r.a.createElement(S.a,{className:"site-form-item-icon"}),placeholder:"Email",size:"large"})),r.a.createElement(B.a.Item,{name:"password",rules:[{required:!0,message:"Please input your Password!"}]},r.a.createElement(N.a,{prefix:r.a.createElement(D.a,{className:"site-form-item-icon"}),type:"password",placeholder:"Password",size:"large"})),r.a.createElement(B.a.Item,null,r.a.createElement(j.a,{type:"primary",htmlType:"submit",className:"login-form-button"},"Log in")),"Or ",r.a.createElement(A.b,{to:"/register"},"register now!")),!y.a.isEmpty(l)&&r.a.createElement(Q.a,{message:l,type:"error",showIcon:!0,className:"mt-10"}))))))},L=t(97),Y=t.n(L),q=function(e){var a=e.title,t=e.description,n=e.onConfirm,c=e.type;return r.a.createElement(Y.a,{type:c,title:a,onConfirm:function(){n()},confirmBtnCssClass:"ant-btn ant-btn-primary"},t)},V=(t(352),function(e){var a=e.history,t=Object(n.useState)(!1),c=Object(k.a)(t,2),l=c[0],o=c[1],i=Object(n.useState)(!1),s=Object(k.a)(i,2),m=s[0],u=s[1],E=Object(n.useState)(!1),f=Object(k.a)(E,2),d=f[0],g=f[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(v.a,{justify:"center",align:"middle",className:"auth-container"},r.a.createElement(I.a,{xs:22,sm:22,md:10,lg:9},r.a.createElement("h4",{className:"auth-page-heading"},"Parking Booking System"),r.a.createElement("div",{className:"auth-form-container"},r.a.createElement(O.a,{spinning:d},r.a.createElement("div",{className:"auth-form-heading"},r.a.createElement("h2",null,"Create a new account")),r.a.createElement(B.a,{name:"normal_login",className:"login-form",onFinish:function(e){var a=e.name,t=e.email,n=e.mobile,r=e.password;g(!0);var c=x.database().ref().child("users");x.auth().createUserWithEmailAndPassword(t.toLowerCase(),r).then((function(e){c.child("".concat(e.user.uid)).set({info:{fullName:a,email:t.toLowerCase(),mobile:n,userType:"normal",uid:e.user.uid},selected:{slotBooked:""}}).then((function(e){g(!1),u(!0)})).catch((function(e){g(!1),alert(e)}))})).catch((function(e){g(!1),o(e.message)}))},layout:"vertical"},r.a.createElement(B.a.Item,{name:"name",rules:[{required:!0,message:"Please input your Email!"}]},r.a.createElement(N.a,{prefix:r.a.createElement(S.a,{className:"site-form-item-icon"}),placeholder:"Name",size:"large"})),r.a.createElement(B.a.Item,{name:"email",rules:[{type:"email",message:"The input is not valid E-mail!"},{required:!0,message:"Please input your Email!"}]},r.a.createElement(N.a,{prefix:r.a.createElement(S.a,{className:"site-form-item-icon"}),placeholder:"Email",size:"large"})),r.a.createElement(B.a.Item,{name:"mobile",rules:[{required:!0,message:"Please input your Mobile!"}]},r.a.createElement(N.a,{prefix:r.a.createElement(S.a,{className:"site-form-item-icon"}),placeholder:"Mobile",size:"large"})),r.a.createElement(B.a.Item,{name:"password",rules:[{required:!0,message:"Please input your Password!"}]},r.a.createElement(N.a,{prefix:r.a.createElement(D.a,{className:"site-form-item-icon"}),type:"password",placeholder:"Password",size:"large"})),r.a.createElement(B.a.Item,null,r.a.createElement(j.a,{type:"primary",htmlType:"submit",className:"login-form-button"},"Register")),"Or ",r.a.createElement(A.b,{to:"/login"},"back to Login")),!y.a.isEmpty(l)&&r.a.createElement(Q.a,{message:l,type:"error",showIcon:!0,className:"mt-10"}))))),m&&r.a.createElement(q,{title:"User Created",description:"User Successfully Created.",onConfirm:function(){return a.push("/login")},type:"success"}))}),U=function(){return r.a.createElement("div",{className:"header"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"logo"},r.a.createElement("h4",null,"Parking Booking System"))))},K=function(e){var a=e.children;return r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"container"},r.a.createElement(v.a,{gutter:"30"},a)))},Z=function(e){var a=e.history;return r.a.createElement(I.a,{span:"6"},r.a.createElement("div",{className:"sidebar-cover bg-grey"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(A.b,{to:"".concat(u)},r.a.createElement("i",{className:"fa fa-th"}),"Book Parking")),r.a.createElement("li",null,r.a.createElement(A.b,{to:"".concat(E)},r.a.createElement("i",{className:"fa fa-th"}),"My Bookings")),r.a.createElement("li",null,r.a.createElement(A.b,{to:"".concat(f)},r.a.createElement("i",{className:"fa fa-comment"}),"Feedback")),r.a.createElement("li",null,r.a.createElement(A.b,{to:"#",onClick:function(){x.auth().signOut().then((function(){Object(T.b)("userInformation"),a.push("/")}))}},r.a.createElement("i",{className:"fa fa-sign-out"}),"Logout")))))},z=function(e){var a=e.children;return r.a.createElement(I.a,{span:"18"},r.a.createElement("div",{className:"card"},a))},R=t(394),G=t(111),J=t(392),X=t(33),M=t.n(X),H=t(128),W=(t(356),t(178)),_=t.n(W),$=t(179),ee=t.n($),ae=function(e){var a=e.collection,t=e.onSlotClick,n=e.bookingDetails,c=M()(n.date._d).format("YYYY-MM-DD")+"T"+n.startTime,l=new Date(c).getTime(),o=Number(n.duration[0]),A=1e3*M()(l).add(o,"hours").unix(),i=function(e,a){return e===l&&a>=A};return r.a.createElement("div",{className:"slots-cover"},r.a.createElement(v.a,null,!y.a.isEmpty(a)&&a.map((function(e,a){var n=y.a.has(e,"booking")&&Object.values(e.booking),c=y.a.has(e,"booking")&&n.find((function(a){return a.slotName===e.info.name&&a.startDate===l}));return r.a.createElement(r.a.Fragment,null,r.a.createElement(I.a,{span:4,key:"area".concat(e.info.area).concat(a),className:"slot-col",style:(0===a||6===a)&&{borderLeftWidth:4,borderLeftColor:"#e0dddd",borderLeftStyle:"solid"}},r.a.createElement("button",{className:"slot",type:"button",disabled:!y.a.isEmpty(c)&&i(c.startDate,c.endDate),onClick:function(){return t(e)}},r.a.createElement("div",{className:"slot-name"},r.a.createElement("h4",null,e.info.name)),!y.a.isEmpty(c)&&i(c.startDate,c.endDate)?r.a.createElement("img",{src:_.a,className:"car-img",alt:"Car"}):r.a.createElement("div",{className:"slot-free"},r.a.createElement("p",null,"Park here")))),5===a&&r.a.createElement(I.a,{span:24,key:"road".concat(a)},r.a.createElement(v.a,{gutter:40},r.a.createElement(I.a,{span:24,className:"p-0"},r.a.createElement("img",{src:ee.a,className:"road-image",alt:"Road"})))))}))))},te=["01:00","02:00","03:00","04:00","05:00","06:00","07:00","08:00","09:00","10:00","11:00","12:00","13:00","14:00","15:00","16:00","17:00","18:00","19:00","20:00","21:00","22:00","23:00","24:00"],ne=["1 hr","2 hrs","3 hrs"],re=R.a.Panel,ce=G.a.Option,le=function(){var e=B.a.useForm(),a=Object(k.a)(e,1)[0],t=Object(T.a)("userInformation"),c=Object(n.useState)(!1),l=Object(k.a)(c,2),o=l[0],A=l[1],i=Object(n.useState)(!1),s=Object(k.a)(i,2),m=s[0],u=s[1],E=Object(n.useState)(!1),f=Object(k.a)(E,2),d=f[0],g=f[1],b=Object(n.useState)(!1),h=Object(k.a)(b,2),p=h[0],C=h[1],N=Object(n.useState)([]),Q=Object(k.a)(N,2),S=Q[0],D=Q[1],w=Object(n.useState)({}),P=Object(k.a)(w,2),F=P[0],L=P[1],V=Object(n.useState)({}),U=Object(k.a)(V,2),K=U[0],Z=U[1],z=function(){C(!0),x.database().ref("slots").once("value",(function(e){D(Object.values(e.val())),C(!1)}))},X=function(e){return S.filter((function(a){return a.info.area===e}))};Object(n.useEffect)((function(){z()}),[]);var W=function(e){L(e.info),u(!0)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(O.a,{spinning:p},r.a.createElement("div",{className:"heading-with-item"},r.a.createElement("h2",null,"Book a Slot")),r.a.createElement(B.a,{form:a,name:"slot-selection",layout:"vertical",onFinish:function(e){g(!0),Z(e)}},r.a.createElement(v.a,{gutter:10},r.a.createElement(I.a,{span:8},r.a.createElement(B.a.Item,{label:"Select Date",name:"date",rules:[{required:!0,message:"Please select a date"}],val:!0},r.a.createElement(J.a,{format:"DD-MM-YYYY",disabledDate:function(e){return e&&e<M()().endOf("day")},style:{width:"100%"}}))),r.a.createElement(I.a,{span:8},r.a.createElement(B.a.Item,{label:"Start Time",name:"startTime",rules:[{required:!0,message:"Please select start time"}]},r.a.createElement(G.a,{placeholder:"Please Select",style:{width:"100%"}},te.map((function(e,a){return r.a.createElement(ce,{value:e,key:a},e)}))))),r.a.createElement(I.a,{span:8},r.a.createElement(B.a.Item,{label:"Duration",name:"duration",rules:[{required:!0,message:"Please select duration"}]},r.a.createElement(G.a,{placeholder:"Please Select",style:{width:"100%"}},ne.map((function(e,a){return r.a.createElement(ce,{value:e,key:a},e)}))))),r.a.createElement(I.a,{span:24},r.a.createElement(B.a.Item,null,r.a.createElement(j.a,{type:"primary",htmlType:"submit"},"Check Availablity"))))),d&&!y.a.isEmpty(K)&&r.a.createElement(R.a,{accordion:!0,className:"slots-collapse",defaultActiveKey:["1"]},r.a.createElement(re,{header:"Area 1",key:"1"},r.a.createElement(ae,{key:"area 1",collection:X("1"),onSlotClick:W,bookingDetails:K})),r.a.createElement(re,{header:"Area 2",key:"2"},r.a.createElement(ae,{key:"area 2",collection:X("2"),onSlotClick:W,bookingDetails:K})),r.a.createElement(re,{header:"Area 3",key:"3"},r.a.createElement(ae,{key:"area 3",collection:X("3"),onSlotClick:W,bookingDetails:K})))),m&&r.a.createElement(Y.a,{type:"warning",title:"Confirm",onCancel:function(){return u(!1)},onConfirm:function(){C(!0);var e=F.name.replace(" ",""),a=M()(K.date._d).format("YYYY-MM-DD")+"T"+K.startTime,n=new Date(a).getTime(),r=Number(K.duration[0]),c=1e3*M()(n).add(r,"hours").unix();x.database().ref("slots/".concat(e,"/booking")).push({status:!0,slotName:F.name,slotArea:F.area,uid:t.uid,username:t.fullName,bookingID:Object(H.uuid)(),startDate:n,endDate:c}).then((function(e){z(),A(!0)})).catch((function(e){return console.log(e)})),u(!1)},showCancel:!0,confirmBtnCssClass:"ant-btn ant-btn-primary"},"Do you want to book ",F.name," in area ",F.area,"?"),o&&r.a.createElement(q,{title:"Slot Booked",description:"You have successfully booked a slot.",onConfirm:function(){return A(!1)},type:"success"}))},oe=t(391),Ae=t(134),ie=[{title:"Name",key:"name",render:function(e){return e.info.fullName}},{title:"Email",key:"email",render:function(e){return e.info.email}},{title:"Mobile",key:"mobile",render:function(e){return e.info.mobile}}],se=[{title:"User",key:"username",render:function(e){return e.username}},{title:"Feeling",key:"feeling",render:function(e){return e.feeling}},{title:"Message",key:"message",render:function(e){return e.message}},{title:"Date / Time",key:"dateTime",render:function(e){return"".concat(M()(e.dateTime).format("L")," ").concat(M()(e.dateTime).format("LT"))}}],me=function(e){return[{title:"Slot Name",key:"slotName",render:function(e){return r.a.createElement("span",{style:{textTransform:"capitalize"}},e.slotName)}},{title:"Area",key:"slotArea",render:function(e){return e.slotArea}},{title:"Start Date / Time",key:"startDate",render:function(e){return"".concat(M()(e.startDate).format("L")," ").concat(M()(e.startDate).format("LT"))}},{title:"End Date / Time",key:"endDate",render:function(e){return"".concat(M()(e.endDate).format("L")," ").concat(M()(e.endDate).format("LT"))}},{title:"",key:"action",render:function(a){return r.a.createElement(Ae.a,{title:"Cancel Booking"},r.a.createElement("button",{className:"delete-btn",onClick:function(){return e(a.slotName,a.bookingID)}},r.a.createElement("i",{className:"fa fa-trash"})))}}]},ue=function(e){return[{title:"Slot Name",key:"slotName",render:function(e){return r.a.createElement("span",{style:{textTransform:"capitalize"}},e.slotName)}},{title:"Area",key:"slotArea",render:function(e){return e.slotArea}},{title:"User",key:"username",render:function(e){return e.username}},{title:"Start Date / Time",key:"startDate",render:function(e){return"".concat(M()(e.startDate).format("L")," ").concat(M()(e.startDate).format("LT"))}},{title:"End Date / Time",key:"endDate",render:function(e){return"".concat(M()(e.endDate).format("L")," ").concat(M()(e.endDate).format("LT"))}},{title:"",key:"action",render:function(a){return r.a.createElement(Ae.a,{title:"Cancel Booking"},r.a.createElement("button",{className:"delete-btn",onClick:function(){return e(a.slotName,a.bookingID)}},r.a.createElement("i",{className:"fa fa-trash"})))}}]},Ee=function(){var e=Object(T.a)("userInformation"),a=Object(n.useState)(!1),t=Object(k.a)(a,2),c=t[0],l=t[1],o=Object(n.useState)(!1),A=Object(k.a)(o,2),i=A[0],s=A[1],m=Object(n.useState)([]),u=Object(k.a)(m,2),E=u[0],f=u[1],d=function(){s(!0),x.database().ref("slots/").once("value",(function(a){for(var t=[],n=Object.values(a.val()),r=0;r<n.length;r++)y.a.has(n[r],"booking")&&(t=t.concat(Object.values(n[r].booking)));var c=t.filter((function(a){return a.uid===e.uid}));f(c),s(!1)}))};Object(n.useEffect)((function(){d()}),[]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"heading-with-item"},r.a.createElement("h2",null,"My Bookings")),r.a.createElement(oe.a,{dataSource:E,columns:me((function(e,a){s(!0);var t=e.replace(" ","");x.database().ref("slots/".concat(t,"/booking")).orderByChild("bookingID").equalTo(a).once("value",(function(e){var a=Object.keys(e.val());x.database().ref("slots/".concat(t,"/booking/").concat(a[0])).remove().then((function(e){s(!1),l(!0),d()})).catch((function(e){return console.log(e)}))}))})),loading:i}),c&&r.a.createElement(q,{title:"Booking Cancelled",description:"Booking Successfully Cancelled.",onConfirm:function(){return l(!1)},type:"success"}))},fe=t(133),de=function(){var e=B.a.useForm(),a=Object(k.a)(e,1)[0],t=Object(n.useState)(!1),c=Object(k.a)(t,2),l=c[0],o=c[1],A=Object(n.useState)(!1),i=Object(k.a)(A,2),s=i[0],m=i[1],u=Object(T.a)("userInformation"),E={display:"block",height:"30px",lineHeight:"30px"};return r.a.createElement(r.a.Fragment,null,r.a.createElement(O.a,{spinning:l},r.a.createElement("div",{className:"heading-with-item"},r.a.createElement("h2",null,"Give Feedback")),r.a.createElement(B.a,{name:"feedback",onFinish:function(e){o(!0),x.database().ref("admin/feedback/"+u.uid).set({username:u.fullName,email:u.email,dateTime:(new Date).toISOString(),feeling:e.feeling,message:e.message,uid:u.uid}).then((function(e){m(!0),a.resetFields(),o(!1)})).catch((function(e){console.log(e),o(!1)}))},layout:"vertical",form:a},r.a.createElement(B.a.Item,{name:"feeling",label:"Overall how you feel about the service you received",rules:[{required:!0,message:"Please select!"}]},r.a.createElement(fe.a.Group,null,r.a.createElement(fe.a,{style:E,value:"Very satisfied"},"Very satisfied"),r.a.createElement(fe.a,{style:E,value:"Satisfied"},"Satisfied"),r.a.createElement(fe.a,{style:E,value:"Neither satisfied or dissatisfied"},"Neither satisfied or dissatisfied"),r.a.createElement(fe.a,{style:E,value:"Dissatisfied"},"Dissatisfied"),r.a.createElement(fe.a,{style:E,value:"Very dissatisfied"},"Very dissatisfied"))),r.a.createElement(B.a.Item,{name:"message",label:"How Could we improve this service",rules:[{required:!0,message:"Please input your message"}]},r.a.createElement(N.a.TextArea,{placeholder:"Enter Your Message ...",rows:5})),r.a.createElement(B.a.Item,null,r.a.createElement(j.a,{type:"primary",htmlType:"submit"},"Submit")))),s&&r.a.createElement(q,{title:"Feedback Sent",description:"Your feedback has been successfully submitted.",onConfirm:function(){return m(!1)},type:"success"}))},ge=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(i.b,{path:s,render:function(a){a.match.url;return r.a.createElement(r.a.Fragment,null,r.a.createElement(U,e),r.a.createElement(K,null,r.a.createElement(Z,{history:e.history}),r.a.createElement(z,null,r.a.createElement(v.a,null,r.a.createElement(I.a,{span:24},r.a.createElement(i.d,null,r.a.createElement(i.b,{exact:!0,path:"".concat(u),component:le}),r.a.createElement(i.b,{exact:!0,path:"".concat(E),component:Ee}),r.a.createElement(i.b,{exact:!0,path:"".concat(f),component:de}),r.a.createElement(i.a,{to:{pathname:"/"}})))))))}}))},be=function(){return r.a.createElement("div",{className:"header"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"logo"},r.a.createElement("h4",null,"Parking Booking System"))))},he=function(e){var a=e.children;return r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"container"},r.a.createElement(v.a,{gutter:"30"},a)))},pe=function(e){var a=e.history;return r.a.createElement(I.a,{span:"6"},r.a.createElement("div",{className:"sidebar-cover bg-grey"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(A.b,{to:"".concat(h)},r.a.createElement("i",{className:"fa fa-th"}),"Book Parking")),r.a.createElement("li",null,r.a.createElement(A.b,{to:"".concat(b)},r.a.createElement("i",{className:"fa fa-th"}),"Bookings")),r.a.createElement("li",null,r.a.createElement(A.b,{to:"".concat(d)},r.a.createElement("i",{className:"fa fa-user"}),"Users")),r.a.createElement("li",null,r.a.createElement(A.b,{to:"".concat(g)},r.a.createElement("i",{className:"fa fa-comment"}),"Feedbacks")),r.a.createElement("li",null,r.a.createElement(A.b,{to:"#",onClick:function(){x.auth().signOut().then((function(){Object(T.b)("userInformation"),a.push("/")}))}},r.a.createElement("i",{className:"fa fa-sign-out"}),"Logout")))))},ye=function(e){var a=e.children;return r.a.createElement(I.a,{span:"18"},r.a.createElement("div",{className:"card"},a))},Ce=function(){var e=Object(n.useState)(!1),a=Object(k.a)(e,2),t=a[0],c=a[1],l=Object(n.useState)(!1),o=Object(k.a)(l,2),A=o[0],i=o[1],s=Object(n.useState)([]),m=Object(k.a)(s,2),u=m[0],E=m[1],f=function(){i(!0),x.database().ref("slots/").once("value",(function(e){for(var a=[],t=Object.values(e.val()),n=0;n<t.length;n++)y.a.has(t[n],"booking")&&(a=a.concat(Object.values(t[n].booking)));E(a),i(!1)}))};Object(n.useEffect)((function(){f()}),[]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"heading-with-item"},r.a.createElement("h2",null,"Bookings")),r.a.createElement(oe.a,{dataSource:u,columns:ue((function(e,a){i(!0);var t=e.replace(" ","");x.database().ref("slots/".concat(t,"/booking")).orderByChild("bookingID").equalTo(a).once("value",(function(e){var a=Object.keys(e.val());x.database().ref("slots/".concat(t,"/booking/").concat(a[0])).remove().then((function(e){i(!1),c(!0),f()})).catch((function(e){return console.log(e)}))}))})),loading:A}),t&&r.a.createElement(q,{title:"Booking Cancelled",description:"Booking Successfully Cancelled.",onConfirm:function(){return c(!1)},type:"success"}))},ke=function(){var e=Object(n.useState)(!1),a=Object(k.a)(e,2),t=a[0],c=a[1],l=Object(n.useState)([]),o=Object(k.a)(l,2),A=o[0],i=o[1];return Object(n.useEffect)((function(){c(!0),x.database().ref("users").once("value",(function(e){var a=Object.values(e.val()).filter((function(e){return"normal"===e.info.userType}));i(a),c(!1)}))}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"heading-with-item"},r.a.createElement("h2",null,"Users")),r.a.createElement(oe.a,{dataSource:A,columns:ie,loading:t}))},ve=function(){var e=Object(n.useState)(!1),a=Object(k.a)(e,2),t=a[0],c=a[1],l=Object(n.useState)([]),o=Object(k.a)(l,2),A=o[0],i=o[1];return Object(n.useEffect)((function(){c(!0),x.database().ref("admin/feedback/").once("value",(function(e){y.a.isEmpty(e.val())||i(Object.values(e.val())),c(!1)})).then((function(e){return c(!1)})).catch((function(e){return c(!1)}))}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"heading-with-item"},r.a.createElement("h2",null,"Feedbacks")),r.a.createElement(oe.a,{dataSource:A,columns:se,loading:t}))},Ie=(t(385),R.a.Panel),Oe=G.a.Option,Be=function(){var e=B.a.useForm(),a=Object(k.a)(e,1)[0],t=Object(T.a)("userInformation"),c=Object(n.useState)(!1),l=Object(k.a)(c,2),o=l[0],A=l[1],i=Object(n.useState)(!1),s=Object(k.a)(i,2),m=s[0],u=s[1],E=Object(n.useState)(!1),f=Object(k.a)(E,2),d=f[0],g=f[1],b=Object(n.useState)(!1),h=Object(k.a)(b,2),p=h[0],C=h[1],N=Object(n.useState)([]),Q=Object(k.a)(N,2),S=Q[0],D=Q[1],w=Object(n.useState)({}),P=Object(k.a)(w,2),F=P[0],L=P[1],V=Object(n.useState)({}),U=Object(k.a)(V,2),K=U[0],Z=U[1],z=function(){C(!0),x.database().ref("slots").once("value",(function(e){D(Object.values(e.val())),C(!1)}))},X=function(e){return S.filter((function(a){return a.info.area===e}))};Object(n.useEffect)((function(){z()}),[]);var W=function(e){L(e.info),u(!0)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(O.a,{spinning:p},r.a.createElement("div",{className:"heading-with-item"},r.a.createElement("h2",null,"Book a Slot")),r.a.createElement(B.a,{form:a,name:"slot-selection",layout:"vertical",onFinish:function(e){g(!0),Z(e)}},r.a.createElement(v.a,{gutter:10},r.a.createElement(I.a,{span:8},r.a.createElement(B.a.Item,{label:"Select Date",name:"date",rules:[{required:!0,message:"Please select a date"}],val:!0},r.a.createElement(J.a,{format:"DD-MM-YYYY",disabledDate:function(e){return e&&e<M()().endOf("day")},style:{width:"100%"}}))),r.a.createElement(I.a,{span:8},r.a.createElement(B.a.Item,{label:"Start Time",name:"startTime",rules:[{required:!0,message:"Please select start time"}]},r.a.createElement(G.a,{placeholder:"Please Select",style:{width:"100%"}},te.map((function(e,a){return r.a.createElement(Oe,{value:e,key:a},e)}))))),r.a.createElement(I.a,{span:8},r.a.createElement(B.a.Item,{label:"Duration",name:"duration",rules:[{required:!0,message:"Please select duration"}]},r.a.createElement(G.a,{placeholder:"Please Select",style:{width:"100%"}},ne.map((function(e,a){return r.a.createElement(Oe,{value:e,key:a},e)}))))),r.a.createElement(I.a,{span:24},r.a.createElement(B.a.Item,null,r.a.createElement(j.a,{type:"primary",htmlType:"submit"},"Check Availablity"))))),d&&!y.a.isEmpty(K)&&r.a.createElement(R.a,{accordion:!0,className:"slots-collapse",defaultActiveKey:["1"]},r.a.createElement(Ie,{header:"Area 1",key:"1"},r.a.createElement(ae,{key:"area 1",collection:X("1"),onSlotClick:W,bookingDetails:K})),r.a.createElement(Ie,{header:"Area 2",key:"2"},r.a.createElement(ae,{key:"area 2",collection:X("2"),onSlotClick:W,bookingDetails:K})),r.a.createElement(Ie,{header:"Area 3",key:"3"},r.a.createElement(ae,{key:"area 3",collection:X("3"),onSlotClick:W,bookingDetails:K})))),m&&r.a.createElement(Y.a,{type:"warning",title:"Confirm",onCancel:function(){return u(!1)},onConfirm:function(){C(!0);var e=F.name.replace(" ",""),a=M()(K.date._d).format("YYYY-MM-DD")+"T"+K.startTime,n=new Date(a).getTime(),r=Number(K.duration[0]),c=1e3*M()(n).add(r,"hours").unix();x.database().ref("slots/".concat(e,"/booking")).push({status:!0,slotName:F.name,slotArea:F.area,uid:t.uid,username:t.fullName,bookingID:Object(H.uuid)(),startDate:n,endDate:c}).then((function(e){z(),A(!0)})).catch((function(e){return console.log(e)})),u(!1)},showCancel:!0,confirmBtnCssClass:"ant-btn ant-btn-primary"},"Do you want to book ",F.name," in area ",F.area,"?"),o&&r.a.createElement(q,{title:"Slot Booked",description:"You have successfully booked a slot.",onConfirm:function(){return A(!1)},type:"success"}))},Ne=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(i.b,{path:m,render:function(a){a.match.url;return r.a.createElement(r.a.Fragment,null,r.a.createElement(be,e),r.a.createElement(he,null,r.a.createElement(pe,{history:e.history}),r.a.createElement(ye,null,r.a.createElement(v.a,null,r.a.createElement(I.a,{span:24},r.a.createElement(i.d,null,r.a.createElement(i.b,{exact:!0,path:"".concat(h),component:Be}),r.a.createElement(i.b,{exact:!0,path:"".concat(b),component:Ce}),r.a.createElement(i.b,{exact:!0,path:"".concat(d),component:ke}),r.a.createElement(i.b,{exact:!0,path:"".concat(g),component:ve}),r.a.createElement(i.a,{to:{pathname:"/"}})))))))}}))},je=(t(386),function(e){var a=Object(T.a)("userInformation");return r.a.createElement(r.a.Fragment,null,r.a.createElement(i.d,null,r.a.createElement(i.b,{path:s,render:function(){return y.a.isEmpty(a)||"normal"!==a.userType?r.a.createElement(i.a,{to:{pathname:"/"}}):r.a.createElement(r.a.Fragment,null,r.a.createElement(ge,e))}}),r.a.createElement(i.b,{path:m,render:function(){return y.a.isEmpty(a)||"admin"!==a.userType?r.a.createElement(i.a,{to:{pathname:"/"}}):r.a.createElement(r.a.Fragment,null,r.a.createElement(Ne,e))}})))}),Qe=function(){return r.a.createElement(A.a,{basename:"/parking-booking-system"},r.a.createElement(i.d,null,r.a.createElement(i.b,{exact:!0,path:"/",component:F}),r.a.createElement(i.b,{exact:!0,path:"/login",component:F}),r.a.createElement(i.b,{exact:!0,path:"/register",component:V}),r.a.createElement(Se,{component:De})))},Se=function(e){var a=e.component,t=Object(o.a)(e,["component"]),n=Object(T.a)("userInformation");return r.a.createElement(i.b,Object.assign({},t,{render:function(e){return y.a.isEmpty(n)?r.a.createElement(i.a,{to:{pathname:"/"}}):r.a.createElement(a,e)}}))},De=function(){return r.a.createElement(i.d,null,r.a.createElement(i.b,{path:"".concat(m),component:je}),r.a.createElement(i.b,{path:"".concat(s),component:je}),r.a.createElement(i.a,{to:"/"}))};var Te=function(){return r.a.createElement(Qe,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Te,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},43:function(e,a,t){"use strict";(function(e){t.d(a,"c",(function(){return n})),t.d(a,"a",(function(){return r})),t.d(a,"b",(function(){return c}));var n=function(a,t){var n=JSON.stringify(t);e.localStorage.setItem(a,n)},r=function(a){var t=e.localStorage.getItem(a);return JSON.parse(t)},c=function(a){return e.localStorage.removeItem(a)}}).call(this,t(69))}},[[204,1,2]]]);
//# sourceMappingURL=main.8bb1dfd7.chunk.js.map